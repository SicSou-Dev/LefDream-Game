<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>LefDream-Game</title>

  <!-- Librairies √âchecs -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/css/chessboard-1.0.0.min.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/1.0.0/chess.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/js/chessboard-1.0.0.min.js"></script>

  <style>
    :root { --bg-dark:#05040a; --neon-start:#2eb5ff; --neon-end:#8a35ff; --panel:rgba(255,255,255,0.08); --text-light:#fff; }
    *{box-sizing:border-box;margin:0;padding:0;font-family:Arial,Helvetica,sans-serif}
    body{background:var(--bg-dark);color:var(--text-light);min-height:100vh;display:flex;flex-direction:column}
    header{display:flex;align-items:center;justify-content:space-between;padding:12px 20px;background:linear-gradient(90deg,var(--neon-start),var(--neon-end))}
    header .left{display:flex;align-items:center;gap:10px}
    header img{width:45px;height:45px;border-radius:8px}
    header h1{font-size:20px}
    header input{padding:6px 10px;border-radius:6px;border:none;outline:none;width:180px}
    .sound-btn{font-size:22px;cursor:pointer;background:none;border:none;color:#fff;margin-left:10px}

    main{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px}
    footer{text-align:center;padding:10px;color:rgba(255,255,255,0.5)}

    /* sidebar */
    .hamburger{font-size:26px;cursor:pointer}
    .sidebar{position:fixed;top:0;left:-260px;width:260px;height:100%;background:#111;padding:20px;transition:0.3s;z-index:1000;overflow-y:auto}
    .sidebar.open{left:0}
    .sidebar a{display:block;margin:15px 0;color:#fff;text-decoration:none;font-size:18px}
    .sidebar h3{color:#fff;margin-top:25px;margin-bottom:10px;font-size:16px}
    .sidebar select{width:100%;padding:8px;border-radius:6px;border:none;outline:none;background:#222;color:#fff}

    /* accueil */
    .games-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;width:100%;max-width:900px}
    .banner{background:linear-gradient(135deg,var(--neon-start),var(--neon-end));border-radius:14px;padding:40px;text-align:center;cursor:pointer;box-shadow:0 6px 20px rgba(0,0,0,0.6);transition:.25s;font-size:18px;font-weight:bold}
    .banner:hover{transform:translateY(-6px);box-shadow:0 12px 30px rgba(0,0,0,0.7)}

    section{display:none;flex-direction:column;align-items:center;justify-content:center;width:100%;max-width:900px;margin:auto;text-align:center}
    section.active{display:flex}
    .back-btn{margin:10px;padding:8px 16px;border:none;border-radius:8px;cursor:pointer;background:linear-gradient(90deg,var(--neon-start),var(--neon-end));color:#fff;font-weight:bold}

    /* Jeu √âchecs */
    #board{width:90vw;max-width:800px;margin:20px auto}
    .white-1e1d7{background:#fff !important;}
    .black-3c85d{background:#000 !important;}

    /* Jeu Morpion style # */
    .tictactoe-board{position:relative;width:300px;height:300px;margin:20px auto;}
    .tictactoe-board::before,.tictactoe-board::after,.tictactoe-board .vline{content:"";position:absolute;background:#fff;}
    .tictactoe-board::before{top:33.3%;left:0;width:100%;height:4px;}
    .tictactoe-board::after{top:66.6%;left:0;width:100%;height:4px;}
    .tictactoe-board .vline:nth-child(1){left:33.3%;top:0;width:4px;height:100%;}
    .tictactoe-board .vline:nth-child(2){left:66.6%;top:0;width:4px;height:100%;}
    .cell{position:absolute;width:33.3%;height:33.3%;display:flex;align-items:center;justify-content:center;font-size:64px;font-weight:bold;cursor:pointer;color:#fff;}
    .cell.win{color:yellow;text-shadow:0 0 20px yellow;}
    .score{margin-top:10px}

    /* Jeu Pierre-Feuille-Ciseaux */
    .rps-btns{display:flex;gap:15px;margin:20px}
    .rps-btn{font-size:40px;padding:12px 18px;border:none;border-radius:12px;background:var(--panel);cursor:pointer;transition:.2s}
    .rps-btn:hover{background:rgba(255,255,255,0.2);transform:scale(1.1)}
    .rps-result{margin-top:15px;font-size:20px;font-weight:bold;min-height:40px;transition:.3s}
    .rps-result.win{color:lime;text-shadow:0 0 10px lime}
    .rps-result.lose{color:red;text-shadow:0 0 10px red}
    .rps-result.draw{color:yellow;text-shadow:0 0 10px yellow}

    /* Animation plein √©cran */
    .fullscreen-anim{transition:transform 0.4s ease, opacity 0.4s ease;transform:scale(0.9);opacity:0.5;}
    .fullscreen-anim.full{transform:scale(1);opacity:1;}
  </style>
</head>
<body>
  <header>
    <div class="left">
      <span class="hamburger">‚ò∞</span>
      <img src="IMG_2727.jpeg" alt="Logo LefDream"/>
      <h1>LefDream-Game</h1>
    </div>
    <div class="right">
      <input type="text" id="searchBar" placeholder="Rechercher un jeu...">
      <button class="sound-btn" id="soundBtn">üîá</button>
    </div>
  </header>

  <!-- Musique -->
  <audio id="bgMusic" loop></audio>

  <div class="sidebar" id="sidebar">
    <a href="https://lefdream.netlify.app" target="_blank">Revenir √† LefDream</a>
    <h3>üéµ Choisir la musique</h3>
    <select id="musicSelect">
      <option value="">-- Aucune --</option>
      <option value="https://files.freemusicarchive.org/storage-freemusicarchive-org/tracks/2jGm7dKrL2x0hP43T9M2Zy0JIpzIQN0LXW1dwtWn.mp3">Arcade</option>
      <option value="https://files.freemusicarchive.org/storage-freemusicarchive-org/tracks/HyMo4T3L7Jb7Y0sT9XqFZytcQ4P4Qe7yFj6slA9G.mp3">Chill</option>
      <option value="https://files.freemusicarchive.org/storage-freemusicarchive-org/tracks/MsRZ7XkS6u3k0p9t8UjbQw0C9i8v4wX6tAfBq1Lm.mp3">√âpique</option>
    </select>
  </div>

  <main>
    <section id="home" class="active">
      <div class="games-grid" id="gamesList">
        <div class="banner" onclick="openSection('chess')">‚ôüÔ∏è √âchecs</div>
        <div class="banner" onclick="openSection('tictactoe')">‚ùå‚≠ï Morpion</div>
        <div class="banner" onclick="openSection('rps')">‚úä‚úã‚úåÔ∏è Pierre-Feuille-Ciseaux</div>
      </div>
    </section>

    <section id="chess">
      <h2>‚ôüÔ∏è Jeu d'√âchecs</h2>
      <div id="board"></div>
      <button class="back-btn" onclick="openSection('home')">‚¨Ö Retour</button>
      <button class="back-btn" onclick="resetChess()">üîÑ R√©initialiser</button>
      <button class="back-btn" onclick="goFullscreen('board')">‚õ∂ Plein √©cran</button>
    </section>

    <section id="tictactoe">
      <h2>‚ùå‚≠ï Morpion</h2>
      <div class="tictactoe-board" id="tttBoard">
        <div class="vline"></div><div class="vline"></div>
      </div>
      <div class="score" id="tictactoeScore">X:0 | O:0</div>
      <button class="back-btn" onclick="openSection('home')">‚¨Ö Retour</button>
      <button class="back-btn" onclick="resetTicTacToe()">üîÑ Rejouer</button>
      <button class="back-btn" onclick="goFullscreen('tttBoard')">‚õ∂ Plein √©cran</button>
    </section>

    <section id="rps">
      <h2>‚úä‚úã‚úåÔ∏è Pierre-Feuille-Ciseaux</h2>
      <div class="rps-btns">
        <button class="rps-btn" onclick="playRPS('pierre')">‚úä</button>
        <button class="rps-btn" onclick="playRPS('feuille')">‚úã</button>
        <button class="rps-btn" onclick="playRPS('ciseaux')">‚úåÔ∏è</button>
      </div>
      <div class="rps-result" id="rpsResult">Choisis une option !</div>
      <div class="score" id="rpsScore">Toi:0 | Ordinateur:0</div>
      <button class="back-btn" onclick="openSection('home')">‚¨Ö Retour</button>
      <button class="back-btn" onclick="goFullscreen('rps')">‚õ∂ Plein √©cran</button>
    </section>
  </main>

  <footer>¬© 2025 LefDream-Game</footer>

<script>
  // navigation
  function openSection(id){
    document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
    setTimeout(()=>{document.getElementById(id).classList.add("active");},50);
    document.getElementById("sidebar").classList.remove("open");
  }
  document.querySelector(".hamburger").onclick=()=>document.getElementById("sidebar").classList.toggle("open");
  document.getElementById("searchBar").addEventListener("input",function(){
    const q=this.value.toLowerCase();
    document.querySelectorAll("#gamesList .banner").forEach(b=>{
      b.style.display=b.innerText.toLowerCase().includes(q)?"block":"none";
    });
  });

  // Plein √©cran avec animation
  function goFullscreen(id){
    let el=document.getElementById(id);
    el.classList.add("fullscreen-anim");
    setTimeout(()=>el.classList.add("full"),20);
    if(el.requestFullscreen) el.requestFullscreen();
    else if(el.webkitRequestFullscreen) el.webkitRequestFullscreen();
    else if(el.msRequestFullscreen) el.msRequestFullscreen();
  }
  document.addEventListener("fullscreenchange",()=>{
    if(!document.fullscreenElement){
      document.querySelectorAll(".fullscreen-anim").forEach(el=>{
        el.classList.remove("full");
        setTimeout(()=>el.classList.remove("fullscreen-anim"),300);
      });
    }
  });

  // √âchecs
  let chess=new Chess();
  let board=Chessboard("board",{draggable:true,position:"start",
    onDrop:(s,t)=>{let m=chess.move({from:s,to:t,promotion:"q"});if(m===null)return "snapback";}
  });
  function resetChess(){chess=new Chess();board.start();}

  // Morpion
  const ttt=document.getElementById("tttBoard");
  let cells=[],turn="X",scoreX=0,scoreO=0;
  function initTicTacToe(){
    ttt.querySelectorAll(".cell").forEach(c=>c.remove());cells=[];
    for(let r=0;r<3;r++){for(let c=0;c<3;c++){
      const cell=document.createElement("div");
      cell.className="cell";cell.style.top=(r*33.3)+"%";cell.style.left=(c*33.3)+"%";
      cell.onclick=()=>playCell(r*3+c);ttt.appendChild(cell);cells.push(cell);}}
  }
  function playCell(i){
    if(cells[i].innerText!=="")return;cells[i].innerText=turn;
    if(checkWin(turn)){highlightWin(turn);if(turn==="X")scoreX++;else scoreO++;
      document.getElementById("tictactoeScore").innerText=`X:${scoreX} | O:${scoreO}`;
      setTimeout(()=>resetTicTacToe(),1500);}
    turn=(turn==="X")?"O":"X";
  }
  function checkWin(p){const w=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];return w.find(c=>c.every(i=>cells[i].innerText===p));}
  function highlightWin(p){let comb=checkWin(p);comb.forEach(i=>cells[i].classList.add("win"));}
  function resetTicTacToe(){turn="X";initTicTacToe();}
  initTicTacToe();

  // Pierre-Feuille-Ciseaux
  let rpsUser=0,rpsBot=0;
  function playRPS(choice){
    const o=["pierre","feuille","ciseaux"],bot=o[Math.floor(Math.random()*3)];
    let res="",cls="";if(choice===bot){res="√âgalit√© !";cls="draw";}
    else if((choice==="pierre"&&bot==="ciseaux")||(choice==="feuille"&&bot==="pierre")||(choice==="ciseaux"&&bot==="feuille")){res="Tu gagnes üéâ";cls="win";rpsUser++;}
    else{res="L'ordinateur gagne ü§ñ";cls="lose";rpsBot++;}
    document.getElementById("rpsResult").innerText=`Toi: ${choice} | Ordinateur: ${bot} ‚Üí ${res}`;
    document.getElementById("rpsResult").className="rps-result "+cls;
    document.getElementById("rpsScore").innerText=`Toi:${rpsUser} | Ordinateur:${rpsBot}`;
  }

  // Musique
  const music=document.getElementById("bgMusic");
  const soundBtn=document.getElementById("soundBtn");
  const musicSelect=document.getElementById("musicSelect");
  let musicOn=false;

  soundBtn.onclick=()=>{
    if(!musicOn){
      if(music.src){music.volume=0.5;music.play();musicOn=true;soundBtn.textContent="üîä";}
    } else {
      music.pause();musicOn=false;soundBtn.textContent="üîá";
    }
  }

  musicSelect.onchange=()=>{
    const url=musicSelect.value;
    if(url){
      music.src=url;
      music.volume=0.5;
      music.play();
      musicOn=true;
      soundBtn.textContent="üîä";
    } else {
      music.pause();
      musicOn=false;
      soundBtn.textContent="üîá";
    }
  }
</script>
</body>
</html>


