<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LefDream-Game</title>

  <!-- Librairie chessboard.js -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/css/chessboard-1.0.0.min.css"/>
  <style>
  :root {
    --bg-dark: #05040a;
    --neon-start: #2eb5ff;
    --neon-end: #8a35ff;
    --panel: rgba(255,255,255,0.06);
    --text: #ffffff;
  }
  *{box-sizing:border-box;margin:0;padding:0;font-family:Inter,Arial,sans-serif}
  body{background:var(--bg-dark);color:var(--text);min-height:100vh;display:flex;flex-direction:column}
  header{display:flex;align-items:center;justify-content:space-between;padding:12px 18px;background:linear-gradient(90deg,var(--neon-start),var(--neon-end))}
  header .left{display:flex;align-items:center;gap:12px}
  header img{width:44px;height:44px;border-radius:8px}
  header input{padding:7px 10px;border-radius:8px;border:none;outline:none;width:180px}
  main{flex:1;display:flex;flex-direction:column;align-items:center;gap:18px;padding:18px}
  footer{padding:12px;text-align:center;color:rgba(255,255,255,0.5)}
  .hamburger{font-size:24px;cursor:pointer}
  .sidebar{position:fixed;top:0;left:-280px;width:280px;height:100%;background:#0f0f12;padding:22px;transition:left .25s;z-index:2000}
  .sidebar.open{left:0}
  .sidebar a{display:block;color:#fff;text-decoration:none;margin:12px 0}
  .games-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px;width:100%;max-width:980px}
  .banner{background:linear-gradient(135deg,var(--neon-start),var(--neon-end));border-radius:14px;padding:36px 20px;text-align:center;cursor:pointer;color:#020617;font-weight:700;box-shadow:0 8px 30px rgba(0,0,0,0.6)}
  .banner:hover{transform:translateY(-8px) scale(1.03)}
  section{display:none;flex-direction:column;align-items:center;width:100%;max-width:1000px;margin:auto;padding:12px;opacity:0;transition:opacity .25s}
  section.active{display:flex;opacity:1}
  .back-btn{margin:8px;padding:8px 14px;border:none;border-radius:10px;cursor:pointer;background:linear-gradient(90deg,var(--neon-start),var(--neon-end));color:#021;font-weight:700}
  .global-score{color:#ffd66b;font-weight:700;margin-top:6px}
  #board{width:90%;max-width:720px;border-radius:12px;margin:8px auto;overflow:hidden}
  .chess-turn{font-weight:700;margin-bottom:6px}
  .chessboard .white-1e1d7 { background: #f0d9b5 !important; }
  .chessboard .black-3c85d { background: #8b5a2b !important; }
  .chessboard .square-55d63.highlight { box-shadow: inset 0 0 0 4px rgba(46,181,255,0.14); }
  .chessboard .piece.moved { filter: drop-shadow(0 8px 18px rgba(138,53,255,0.45)); transform: translateY(-4px); }
  .grid { display:grid; grid-template-columns:repeat(3,120px); grid-template-rows:repeat(3,120px); border:6px solid #fff; border-radius:12px; margin:16px auto; }
  .cell { display:flex; align-items:center; justify-content:center; font-size:64px; font-weight:900; color:#fff; background:var(--panel); border:2px solid #fff; cursor:pointer; transition: transform .12s, background .12s; user-select:none; }
  .cell:hover{ transform:scale(1.04); background: rgba(255,255,255,0.06); }
  .cell.win{ animation: glowPulse 900ms infinite alternate; color:#fff; }
  @keyframes glowPulse {
    0% { box-shadow: 0 0 6px #2eb5ff, 0 0 12px #2eb5ff; transform:scale(1); }
    50% { box-shadow: 0 0 18px #8a35ff, 0 0 36px #8a35ff; transform:scale(1.08); }
    100% { box-shadow: 0 0 6px #2eb5ff, 0 0 12px #2eb5ff; transform:scale(1); }
  }
  .rps-container{text-align:center}
  .rps-animation{width:180px;height:180px;margin:10px auto;font-size:72px;display:flex;align-items:center;justify-content:center;transition:transform .15s}
  .rps-btns{display:flex;gap:12px;justify-content:center}
  .rps-btn{font-size:44px;padding:10px;border-radius:10px;border:none;background:var(--panel);cursor:pointer}
  .rps-btn:hover{transform:scale(1.15)}
  .rps-result{min-height:44px;margin-top:8px;font-weight:700}
  @media(max-width:520px){ .grid{grid-template-columns:repeat(3,80px);grid-template-rows:repeat(3,80px)} .cell{font-size:40px} }
  </style>
</head>
<body>
  <header>
    <div class="left">
      <span class="hamburger">‚ò∞</span>
      <img src="IMG_2727.jpeg" alt="Logo LefDream" />
      <h1>LefDream-Game</h1>
    </div>
    <input id="searchBar" placeholder="Rechercher un jeu..." />
  </header>

  <div class="sidebar" id="sidebar">
    <a href="#" onclick="openSection('home')">Accueil</a>
    <a href="#" onclick="openSection('create')">Cr√©er un jeu</a>
  </div>

  <main>
    <section id="home" class="active">
      <div class="games-grid" id="gamesList">
        <div class="banner" onclick="openSection('chess')">‚ôüÔ∏è √âchecs</div>
        <div class="banner" onclick="openSection('tictactoe')">‚ùå‚≠ï Morpion</div>
        <div class="banner" onclick="openSection('rps')">‚úä‚úã‚úåÔ∏è RPS</div>
      </div>
      <div class="global-score" id="globalScore">Scores Globaux ‚Äî √âchecs:0 | Morpion:0 | RPS:0</div>
    </section>

    <section id="chess">
      <h2>‚ôüÔ∏è √âchecs</h2>
      <div id="board"></div>
      <div class="chess-turn" id="chessTurn">Tour: Blanc</div>
      <div>
        <button class="back-btn" onclick="toggleFullScreen()">‚õ∂ Plein √©cran</button>
        <button class="back-btn" onclick="resetChess()">üîÑ R√©initialiser</button>
        <button class="back-btn" onclick="openSection('home')">‚¨Ö Retour</button>
      </div>
    </section>

    <section id="tictactoe">
      <h2>‚ùå‚≠ï Morpion</h2>
      <div>
        <label>Mode</label>
        <select id="ticMode">
          <option value="pve">Joueur vs IA</option>
          <option value="pvp">Joueur vs Joueur</option>
        </select>
      </div>
      <div class="grid" id="grid"></div>
      <div class="score" id="tictactoeScore">X:0 | O:0</div>
      <div>
        <button class="back-btn" onclick="toggleFullScreen()">‚õ∂ Plein √©cran</button>
        <button class="back-btn" onclick="resetTicTacToe()">üîÑ Rejouer</button>
        <button class="back-btn" onclick="openSection('home')">‚¨Ö Retour</button>
      </div>
    </section>

    <section id="rps">
      <h2>‚úä‚úã‚úåÔ∏è Pierre-Feuille-Ciseaux</h2>
      <div class="rps-container">
        <div class="rps-btns">
          <button class="rps-btn" data-choice="pierre">‚úä</button>
          <button class="rps-btn" data-choice="feuille">‚úã</button>
          <button class="rps-btn" data-choice="ciseaux">‚úåÔ∏è</button>
        </div>
        <div class="rps-animation" id="rpsAnimation">‚úä‚úã‚úåÔ∏è</div>
        <div class="rps-result" id="rpsResult">Choisis une option !</div>
        <div class="score" id="rpsScore">Toi:0 | Ordinateur:0</div>
        <div>
          <button class="back-btn" onclick="toggleFullScreen()">‚õ∂ Plein √©cran</button>
          <button class="back-btn" onclick="openSection('home')">‚¨Ö Retour</button>
        </div>
      </div>
    </section>

    <section id="create">
      <h2>‚ûï Cr√©er un jeu</h2>
      <form>
        <input placeholder="Nom du jeu" />
        <textarea placeholder="Bio du jeu"></textarea>
        <input type="number" placeholder="√Çge l√©gal" />
        <textarea placeholder="Code du jeu"></textarea>
      </form>
      <button class="back-btn" onclick="openSection('home')">‚¨Ö Retour</button>
    </section>
  </main>

  <footer>¬© 2025 LefDream-Game</footer>

  <!-- Scripts externes -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/1.0.0/chess.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/js/chessboard-1.0.0.min.js"></script>

  <script>
  // Navigation
  function openSection(id){
    document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    document.getElementById('sidebar').classList.remove('open');
  }
  document.querySelector('.hamburger').onclick=()=>document.getElementById('sidebar').classList.toggle('open');
  document.getElementById('searchBar').oninput=function(){
    const q=this.value.toLowerCase();
    document.querySelectorAll('#gamesList .banner').forEach(b=>b.style.display=b.innerText.toLowerCase().includes(q)?'block':'none');
  }
  function toggleFullScreen(){
    if(!document.fullscreenElement) document.documentElement.requestFullscreen();
    else document.exitFullscreen();
  }

  // Chess
  let chess=new Chess();
  let board;
  let chessWins=0;
  function updateChessTurn(){document.getElementById('chessTurn').innerText="Tour: "+(chess.turn()==='w'?'Blanc':'Noir');}
  function resetChess(){chess=new Chess();board.start();updateChessTurn();}
  function onDrop(src,tgt){
    let move=chess.move({from:src,to:tgt,promotion:'q'});
    if(move===null) return 'snapback';
    updateChessTurn();
    if(chess.in_checkmate()){chessWins++;alert("√âchec et mat !");updateGlobalScore();}
  }
  document.addEventListener('DOMContentLoaded',()=>{
    board=Chessboard('board',{draggable:true,position:'start',onDrop:onDrop});
    updateChessTurn();
  });

  // TicTacToe
  const grid=document.getElementById('grid');
  let cells=[],turn='X',scoreX=0,scoreO=0,modePvE=true;
  document.getElementById('ticMode').onchange=function(){modePvE=this.value==='pve';resetTicTacToe();}
  function initTicTacToe(){grid.innerHTML='';cells=[];for(let i=0;i<9;i++){let d=document.createElement('div');d.className='cell';d.onclick=()=>playCell(i);grid.appendChild(d);cells.push(d);}turn='X';}
  function checkWin(p){const w=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];return w.find(c=>c.every(i=>cells[i].innerText===p));}
  function playCell(i){if(cells[i].innerText!=='')return;cells[i].innerText=turn;if(checkWin(turn)){highlightWin(turn);updateScore(turn);return;}if(cells.every(c=>c.innerText!=='')){resetTicTacToe();return;}if(modePvE&&turn==='X'){turn='O';setTimeout(aiPlay,300);}else turn=turn==='X'?'O':'X';}
  function highlightWin(p){checkWin(p).forEach(i=>cells[i].classList.add('win'));setTimeout(resetTicTacToe,1000);}
  function updateScore(p){if(p==='X')scoreX++;else scoreO++;document.getElementById('tictactoeScore').innerText=`X:${scoreX} | O:${scoreO}`;updateGlobalScore();}
  function aiPlay(){let empty=cells.map((c,i)=>c.innerText===''?i:null).filter(i=>i!==null);let choice=empty[Math.floor(Math.random()*empty.length)];cells[choice].innerText='O';if(checkWin('O')){highlightWin('O');updateScore('O');return;}turn='X';}
  function resetTicTacToe(){initTicTacToe();}
  initTicTacToe();

  // RPS
  let rpsUser=0,rpsBot=0,choices=['pierre','feuille','ciseaux'];
  document.querySelectorAll('.rps-btn').forEach(b=>b.onclick=()=>playRPS(b.dataset.choice));
  function playRPS(choice){let bot=choices[Math.floor(Math.random()*3)];document.getElementById('rpsAnimation').innerText=bot;let res="";if(choice===bot)res="√âgalit√©";else if((choice==='pierre'&&bot==='ciseaux')||(choice==='feuille'&&bot==='pierre')||(choice==='ciseaux'&&bot==='feuille')){res="Tu gagnes";rpsUser++;}else{res="Ordinateur gagne";rpsBot++;}document.getElementById('rpsResult').innerText=`Toi:${choice} | Ordi:${bot} ‚Üí ${res}`;document.getElementById('rpsScore').innerText=`Toi:${rpsUser} | Ordi:${rpsBot}`;updateGlobalScore();}
  
  // Global score
  function updateGlobalScore(){document.getElementById('globalScore').innerText=`Scores Globaux ‚Äî √âchecs:${chessWins} | Morpion:${scoreX+scoreO} | RPS:${rpsUser+rpsBot}`;}
  </script>
</body>
</html>

